(function(a){a(document).on("click",function(b){a(".fm-select").each(function(){var c=a(this);if(!c[0].contains(b.target)){c.removeClass("selecting")}})});a.fn.extend({toRadio:function(){return this.each(function(){var c=a(this),b=a('<i class="fm-item fm-radio"></i>');if(c.data("radio-init")){return}c.after(b);c.on("click checked",function(){a("[name='"+this.name+"']").not(this).parent().removeClass("checked");c.parent().addClass("checked")});return c.data("radio-init",true).appendTo(b)}).filter(":checked").trigger("checked")},toCheckbox:function(){return this.each(function(){var c=a(this),b=a('<i class="fm-item fm-checkbox"></i>');if(c.data("checkbox-init")){return}c.after(b);c.on("click checked",function(){c.parent()[this.checked?"addClass":"removeClass"]("checked")});return c.data("checkbox-init",true).appendTo(b)}).filter(":checked").trigger("checked")},toSwitch:function(){return this.each(function(){var c=a(this),b=a('<i class="fm-item fm-switch"></i>');if(c.data("switch-init")){return}c.after(b);c.on("click checked",function(){c.parent()[this.checked?"addClass":"removeClass"]("checked")});return c.data("switch-init",true).appendTo(b)}).filter(":checked").trigger("checked")},toSelect:function(b){b=b||{};return this.each(function(){var i=a(this),c=i.attr("value"),d=a('<i class="fm-item fm-select"><span class="value-holder"></span><div class="option-holder"></div></i>');if(i.data("select-init")){return}i.after(d);if(c){i.val(c)}if(b.colorful){d.addClass("colorful")}d.css({width:b.width||i.width()});var h=d.children(".value-holder"),g=d.children(".option-holder"),e=i.children(":selected");h.html(e.html());var f=i.html().replace(/<option(.*?)>(.*?)<\/option>/gi,"<a$1>$2</a>");g.html(f).on("click","a",function(){var j=a(this);i.val(j.attr("value")).trigger("change");h.html(j.html())});d.on("click",function(){a(this).toggleClass("selecting")});i.on("selectVal",function(j,k){k&&a(this).val(k);g.find('a[value="'+(this.value)+'"]').trigger("click");d.removeClass("selecting")});return i.data("select-init",true).appendTo(d)})},toPager:function(c,b){return a(this).each(function(){var m=a(this);var e=a.extend({el:m,totalPage:1,currentPage:1,preposePagesCount:1,postposePagesCount:1,firstPagesCount:2,lastPagesCount:2,"switch":null},c);var p="",j=e.totalPage,q=e.currentPage,k=e.preposePagesCount,h=e.postposePagesCount,r=e.firstPagesCount,d=e.lastPagesCount,f;function l(i){return'<a class="pagination-spec" data-page="'+i+'">'+i+"</a>"}p+=q===1?'<span class="pagination-start"><span>\u4e0a\u4e00\u9875</span></span>':'<a class="pagination-prev"><span>\u4e0a\u4e00\u9875</span></a>';if(q<=r+k+1){for(var g=1;g<q;g++){p+=l(g)}}else{for(var g=1;g<=r;g++){p+=l(g)}p+='<span class="pagination-break">...</span>';for(var g=q-k;g<=q-1;g++){p+=l(g)}}p+='<span class="pagination-curr">'+q+"</span>";if(q>=j-d-h){f=q+1;for(var g=q+1;g<=j;g++){p+=l(g)}}else{for(var g=q+1;g<=q+h;g++){p+=l(g)}p+='<span class="pagination-break">...</span>';for(var g=j-d+1;g<=j;g++){p+=l(g)}}p+=q===j?'<span class="pagination-end"><span>\u4e0b\u4e00\u9875</span></span>':'<a class="pagination-next"><span>\u4e0b\u4e00\u9875</span></a>';a(e.el).html(p);function n(i){e.currentPage=Number(i);m.toPager(e,true);m.trigger("switch",{toPage:e.currentPage})}if(!b){m.on("switch",e["switch"]);a(e.el).on("click",".pagination-spec",function(i){n(a(this).html())}).on("click",".pagination-prev",function(i){n(Number(a(this).siblings(".pagination-curr").html())-1)}).on("click",".pagination-next",function(i){n(Number(a(this).siblings(".pagination-curr").html())+1)})}})}})})(jQuery);
